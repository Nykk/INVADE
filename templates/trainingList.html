
	{% include "head.html" %}
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script>
	    let currentSetName = null;
	    let currentWord = null;

	    var trainingNames = [{% for i in trainings %}"{{ i }}",{% endfor %}];

		function getDictList(name){
	        console.log('gdl');
		    currentSetName = name;
			fetch('/dict/'+name)
				.then(res => {
				    return res.text();
				})
				.then(data => {
					words.innerHTML='';
					if (data!=''){
				        for (let i of data.split(',')){
				        	words.innerHTML+=`<div class='dict-logo' id='word_`+i+`' onclick="showWordInfo('`+i+`')">`+i+`</div>`;
				        }
					}
				});
		}


	</script>
<div id="trainSettingsForm">
	<div id='content' v-if="!shown">
        <div class='centered'>
				<div class='dictionaries' id="dictionaries">
					{% for training in trainings %}
					    <div class='training-logo' onclick='select("{{trainings.index(training)}}")'>{{training}}</div>
					{% endfor %}
				</div>
		</div>
	</div>
{% raw %}
    <div v-if="shown">
        {{ trainName }}
        {%  endraw %}
        <button onclick="closeSelect()">close</button>
        <form action="/startTraining" method="POST">
            <select id="difficulty">
                {%  for difficulty in difficulties %}
                <option>{{difficulty}}</option>
                <{% endfor %}
            </select>
        {% raw %}
            <input type="button" onclick="start()" value="start">
        </form>
    </div>
</div>
<script>
	    var App = new Vue({
            el:"#trainSettingsForm",
            data:{
                trainName:'spelling',
                shown:false,
            }
        });
	    function select(num){
		    //alert(num, trainingNames[num]);
            App.shown = true;
            App.trainName = trainingNames[num];
        }
        function closeSelect(){
            App.shown = false;
        }
        function start(){
	        window.location.replace('/startTraining/'+App.trainName+'/'+difficulty.value)
        }
</script>
{% endraw %}
	{% include "ending.html" %}
